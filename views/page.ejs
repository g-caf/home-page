<%- include('partials/head', { title: page.title }) %>
<body class="book-post-page">
    <%- include('partials/header') %>

    <main class="book-post-content">
        <article class="book-post-article">
            <% if (page.image_url) { %>
                <div class="book-post-image">
                    <img src="<%= page.image_url %>" alt="<%= page.title %>">
                </div>
            <% } %>

            <div class="book-post-header">
                <h1 class="book-post-title"><%= page.title %></h1>
                <% if (page.subtitle) { %>
                    <h2 class="book-post-subtitle"><%= page.subtitle %></h2>
                <% } %>
            </div>

            <% if (page.content) { %>
                <div class="book-post-body">
                    <%
                    // Render markdown if available
                    const MarkdownIt = require('markdown-it');
                    const md = new MarkdownIt();
                    const contentHtml = md.render(page.content);
                    %>
                    <%- contentHtml %>
                </div>
            <% } %>
        </article>
    </main>

    <%- include('partials/footer') %>
</body>
